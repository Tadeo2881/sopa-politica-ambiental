<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Sopa de Letras – Política Ambiental</title>

<style>
body{font-family:Arial;background:#f4f6fb;text-align:center;}
h1{color:#1b2a4a;}

.grid{
  display:grid;
  grid-template-columns:repeat(15,35px);
  gap:5px;
  justify-content:center;
  margin:20px auto;
}

.cell{
  width:35px;height:35px;
  border:1px solid #ccc;
  display:flex;align-items:center;justify-content:center;
  font-weight:bold;cursor:pointer;background:white;
}

.cell.selected{background:#ffd66a;}
.cell.found{background:#3ddc97;color:white;}

table{
  margin:20px auto;
  border-collapse:collapse;
  width:80%;
}

td{
  border:1px solid #ccc;
  padding:8px;
  text-align:left;
}

.answer{
  color:green;
  font-weight:bold;
}

button{padding:8px 15px;margin:10px;}
</style>
</head>

<body>

<h1>Sopa de Letras – Política Ambiental</h1>
<p>Selecciona letras con clic + arrastrar.</p>

<button onclick="location.reload()">Reiniciar</button>
<p><strong>Encontradas: <span id="count">0</span> / 10</strong></p>

<div class="grid" id="grid"></div>

<h2>Preguntas y Respuestas</h2>
<table id="qaTable"></table>

<script>

const data = {
POLITICA:"Conjunto de decisiones del Estado.",
AMBIENTAL:"Relacionado con el entorno natural.",
LEGISLATIVA:"Vía donde se crean leyes.",
PLANEACION:"Proceso de establecer metas.",
RESPONSABILIDAD:"Obligación de responder por daños.",
JURIDICA:"Responsabilidad basada en leyes.",
ETICA:"Actuar correctamente moralmente.",
SOCIAL:"Compromiso de la sociedad.",
IMPUESTO:"Instrumento económico ambiental.",
SANCION:"Castigo por incumplimiento."
};

const size=15;
const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ";
const grid=document.getElementById("grid");
const table=document.getElementById("qaTable");
let selected="";
let foundCount=0;

// Crear tabla preguntas
for(let key in data){
  let row=document.createElement("tr");

  let q=document.createElement("td");
  q.textContent=data[key];

  let a=document.createElement("td");
  a.id="a-"+key;
  a.textContent="__________";

  row.appendChild(q);
  row.appendChild(a);
  table.appendChild(row);
}

// Crear cuadrícula
for(let i=0;i<size*size;i++){
  let cell=document.createElement("div");
  cell.className="cell";
  cell.textContent=letters[Math.floor(Math.random()*letters.length)];

  cell.onmousedown=function(){
    selected="";
    document.querySelectorAll(".selected").forEach(c=>c.classList.remove("selected"));
  };

  cell.onmouseover=function(e){
    if(e.buttons==1){
      selected+=cell.textContent;
      cell.classList.add("selected");
      checkWord();
    }
  };

  grid.appendChild(cell);
}

function checkWord(){
  for(let key in data){
    if(selected.includes(key)){
      document.getElementById("a-"+key).textContent=key;
      document.getElementById("a-"+key).classList.add("answer");

      document.querySelectorAll(".selected").forEach(c=>{
        c.classList.remove("selected");
        c.classList.add("found");
      });

      selected="";
      foundCount++;
      document.getElementById("count").textContent=foundCount;
    }
  }
}

</script>

</body>
</html>
